import{r as i,b as Y,j as e,M as V,B as l,G as d,k as S,F as w,f as $,d as q,q as O,i as X,e as s}from"./index-BNYZeP1T.js";import{c as J,g as Q,d as U,a as Z,b as ee}from"./customerService-CtLwVgr-.js";import{d as ne}from"./Add-Brohz889.js";import{u as g,w as te}from"./xlsx-ChUIJHMt.js";import{d as ae,I as re}from"./InsertDriveFile-BbkkS_bu.js";import{R as ie,a as oe}from"./RadioGroup-DT3_IQ6w.js";import{F as se}from"./FormControlLabel-L0ky9wc-.js";import{F as C}from"./Fab-Br1esWDD.js";import{T as le,a as ce,b as xe,c as T,d as he}from"./TableRow-WD6ivono.js";import{T as t}from"./TableCell-BaxNxya6.js";import{T as de}from"./TablePagination-B_CkhwHZ.js";import"./request-RmJ5MMbn.js";import"./SwitchBase-BS7_TVRV.js";import"./KeyboardArrowRight-BZUhZXMz.js";import"./LastPage-ne3A1-i7.js";import"./MenuItem-BCdLiv3n.js";const ze=()=>{const[p,F]=i.useState(1),[y,A]=i.useState(0),[m,H]=i.useState([]),[c,u]=i.useState(""),[x,K]=i.useState(""),[h,z]=i.useState(""),[v,E]=i.useState(""),[o,f]=i.useState({page:0,size:5}),k=[{id:"1",name:"Nam"},{id:"0",name:"Nữ"},{id:"",name:"Tất cả"}],b=Y(),P=async()=>{try{let n;c?n=await Q(o.page,c):x!==""?n=await U(o.page,x):h!==""?n=await Z(o.page,h):n=await ee(o.page),H(n.content),A(n.totalElements)}catch(n){console.log(n)}};i.useEffect(()=>{P()},[o.page,o.size,c,x,h]),i.useEffect(()=>{N()},[]);const N=async()=>{try{const n=await J();E(n)}catch(n){console.log(n)}},R=(n,a)=>{f(r=>({...r,page:a}))},D=n=>{f({...o,size:parseInt(n.target.value,10),page:0})},I=n=>{switch(n){case 0:return"Nữ";case 1:return"Nam";default:return"Không xác định"}},_=n=>{const a={width:"100px",textAlign:"center"};switch(n){case 0:return e.jsx(s,{label:"Đồng",color:"default",sx:{...a,backgroundColor:"#CD853F",color:"#FFFFFF"}});case 1:return e.jsx(s,{label:"Bạc",color:"default",sx:{...a,backgroundColor:"#C0C0C0",color:"#000000"}});case 2:return e.jsx(s,{label:"Vàng",color:"default",sx:{...a,backgroundColor:"#FFD700",color:"#000000"}});case 3:return e.jsx(s,{label:"Bạch Kim",color:"default",sx:{...a,backgroundColor:"#E5E4E2",color:"#000000"}});case 4:return e.jsx(s,{label:"Kim Cương",color:"default",sx:{...a,backgroundColor:"#363636",color:"#FFFFFF"}});default:return e.jsx(s,{label:"Không xác định",color:"default",sx:{...a,backgroundColor:"#FFFFFF",color:"#000000"}})}},j=n=>{const a={year:"numeric",month:"2-digit",day:"2-digit"};return new Date(n).toLocaleDateString("vi-VN",a)},G=n=>{b(`/khachhang/khachhangaddress/${n}`)},W=()=>{b("/khachhang/khachhangconfiguration")},B=n=>{debugger;K(n.target.value),F(1),u(""),z("")},L=()=>{debugger;const n=g.json_to_sheet(v.map((r,M)=>({STT:M+1+(p-1)*10,"Hình Ảnh":r.hinhAnh,Mã:r.ma,Tên:r.ten,"Ngày Sinh":j(r.ngaySinh),"Số Điện Thoại":r.sdt,"Giới Tính":r.gioiTinh==1?"Nam":"Nữ",Email:r.email,"Địa Chỉ":r.diaChi}))),a=g.book_new();g.book_append_sheet(a,n,"Danh Sách Khách Hàng"),te(a,"danh_sach_khach_hang.xlsx")};return e.jsxs(V,{style:{textAlign:"center"},children:[e.jsxs(l,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",mb:2,p:2,sx:{backgroundColor:"white",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",borderRadius:"8px",width:"100%"},children:[e.jsxs(d,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(d,{item:!0,xs:12,sm:4,children:e.jsx(S,{fullWidth:!0,margin:"normal",children:e.jsxs(l,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsx(w,{component:"legend",sx:{fontWeight:"bold",whiteSpace:"nowrap",width:"50%"},children:"Tìm kiếm"}),e.jsx($,{value:c,onChange:n=>u(n.target.value),variant:"outlined",placeholder:"Nhập tên khách hàng",fullWidth:!0})]})})}),e.jsx(d,{item:!0,xs:12,sm:4,children:e.jsx(S,{fullWidth:!0,margin:"normal",children:e.jsxs(l,{display:"flex",alignItems:"center",children:[e.jsx(w,{component:"legend",sx:{fontWeight:"bold",whiteSpace:"nowrap",width:"30%"},children:"Giới Tính"}),e.jsx(ie,{row:!0,value:x,onChange:B,sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",flexGrow:1,marginLeft:"10px"},children:k.map(n=>e.jsx(se,{value:n.id,control:e.jsx(oe,{}),label:n.name,sx:{marginRight:2}},n.id))})]})})})]}),e.jsx(l,{sx:{position:"fixed",top:350,right:16,zIndex:1300},children:e.jsx(C,{color:"primary","aria-label":"add",title:"Thêm khách hàng",sx:{height:"60px",width:"60px",backgroundColor:"#007bff",color:"#fff",boxShadow:"0px 8px 15px rgba(0, 123, 255, 0.3)",transition:"all 0.3s ease","&:hover":{backgroundColor:"#0056b3",boxShadow:"0px 15px 20px rgba(0, 86, 179, 0.4)",transform:"translateY(-3px)"},"&:active":{backgroundColor:"#004080",boxShadow:"0px 5px 10px rgba(0, 64, 128, 0.2)",transform:"translateY(1px)"}},onClick:W,children:e.jsx(ne,{sx:{fontSize:"30px"}})})}),e.jsx(l,{sx:{position:"fixed",top:420,right:16,zIndex:1300},children:e.jsx(C,{color:"primary","aria-label":"export",title:"Xuất danh sách khách hàng",sx:{height:"60px",width:"60px",backgroundColor:"#28a745",color:"#fff",boxShadow:"0px 8px 15px rgba(40, 167, 69, 0.3)",transition:"all 0.3s ease","&:hover":{backgroundColor:"#218838",boxShadow:"0px 15px 20px rgba(33, 136, 56, 0.4)",transform:"translateY(-3px)"},"&:active":{backgroundColor:"#1e7e34",boxShadow:"0px 5px 10px rgba(30, 126, 52, 0.2)",transform:"translateY(1px)"}},onClick:L,children:e.jsx(ae,{sx:{fontSize:"30px"}})})})]}),e.jsx(le,{component:q,children:e.jsxs(ce,{children:[e.jsx(xe,{children:e.jsxs(T,{children:[e.jsx(t,{sx:{fontSize:"12px",padding:"8px",textAlign:"center"},children:"STT"}),e.jsx(t,{sx:{fontSize:"12px",padding:"8px",textAlign:"center"},children:"Hình Ảnh"}),e.jsx(t,{sx:{fontSize:"12px",padding:"8px",textAlign:"center"},children:"Mã Khách Hàng"}),e.jsx(t,{sx:{fontSize:"12px",padding:"8px",textAlign:"center"},children:"Tên Khách Hàng"}),e.jsx(t,{sx:{fontSize:"12px",padding:"8px",textAlign:"center"},children:"Ngày Sinh"}),e.jsx(t,{sx:{fontSize:"12px",padding:"8px",textAlign:"center"},children:"Email"}),e.jsx(t,{sx:{fontSize:"12px",padding:"8px",textAlign:"center"},children:"Số Điện Thoại"}),e.jsx(t,{sx:{fontSize:"12px",padding:"8px",textAlign:"center"},children:"Giới Tính"}),e.jsx(t,{sx:{fontSize:"12px",padding:"8px",textAlign:"center"},children:"Thao Tác"})]})}),e.jsx(he,{children:m.length>0&&m.map((n,a)=>{const r=j(n.ngaySinh);return _(n.hangKhachHang),e.jsxs(T,{children:[e.jsx(t,{sx:{fontSize:"12px",padding:"8px",textAlign:"center"},children:a+1+(p-1)*5}),e.jsx(t,{sx:{fontSize:"12px",padding:"8px",textAlign:"center"},children:e.jsx(O,{alt:n.ten,src:n.hinhAnh,sx:{width:100,height:100}})}),e.jsx(t,{sx:{padding:"8px",textAlign:"center"},children:n.ma}),e.jsx(t,{sx:{padding:"8px",textAlign:"center"},children:n.ten}),e.jsx(t,{sx:{padding:"8px",textAlign:"center"},children:r}),e.jsx(t,{sx:{padding:"8px",textAlign:"center"},children:n.email}),e.jsx(t,{sx:{padding:"8px",textAlign:"center"},children:n.sdt}),e.jsx(t,{sx:{padding:"8px",textAlign:"center"},children:I(n.gioiTinh)}),e.jsx(t,{sx:{padding:"8px",textAlign:"center"},children:e.jsx(X,{className:"btn btn-link",children:e.jsx(re,{stroke:2,onClick:()=>G(n.id)})})})]},n.id)})})]})}),e.jsx(de,{rowsPerPageOptions:[5],component:"div",count:y,rowsPerPage:o.size,page:o.page,onPageChange:R,onRowsPerPageChange:D})]})};export{ze as default};
