import{Z as Ie,$ as $e,j as t,B as Ne,p as ee,b as Ve,r as s,c as l,M as _e,d as q,f as qe,n as Xe,R as Qe,i as X,k as Q,h as Ze,e as Z}from"./index-DkjfH3Nj.js";import{d as Je,B as J,M as Ke,S as c}from"./ImportProduct-DAjh42MA.js";import{d as Ye}from"./Add-Damc_Ck8.js";import{U as et}from"./Upload-BU0i2tOL.js";import{T as tt,a as at,b as st,c as K,d as nt}from"./TableRow-DrBFg2V4.js";import{T as u}from"./TableCell-BUbxn9S2.js";import{S as Y}from"./Switch-BsC7r2qR.js";import{T as it}from"./TablePagination-De1m2AAw.js";import"./MenuItem-B1FZ8Sxq.js";import"./xlsx-ChUIJHMt.js";import"./sanPham-CVbMZL9v.js";import"./back-end-vuWvP0DO.js";import"./KeyboardArrowRight-BY8qYOjh.js";import"./LastPage-CMxtDi2C.js";var C={},ot=$e;Object.defineProperty(C,"__esModule",{value:!0});var te=C.default=void 0,lt=ot(Ie()),ct=t;te=C.default=(0,lt.default)((0,ct.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined");function ht({size:m,color:x,title:r,targetUrl:g}){return t.jsx(Ne,{title:r,children:t.jsx(ee,{size:m,color:x,"aria-label":r,href:g,children:t.jsx(Ye,{})})})}const Dt=()=>{const m=Ve(),x=e=>{m(`/sanpham/sua/${e}`)},[r,g]=s.useState("0"),ae=e=>{const a=e.target.value;g(a),a==="0"?n(i=>({...i,tenSanPham:d.ma,ma:""})):a==="1"&&n(i=>({...i,ma:d.tenSanPham,tenSanPham:""}))},[se,ne]=s.useState(0),ie=()=>{b([]),k([]),$([]),D([]),v([]),E([]),B([]),G([]),F([]),U([]),W([]),P([]),g("0"),n(e=>({...e,tenSanPham:"",ma:""})),ne(e=>e+1)},oe="http://localhost:8080/api/san-pham/find/filter-id?",[j,le]=s.useState([]),[d,n]=s.useState({page:0,size:"5",tenSanPham:"",ma:"",ngayTaoTruoc:"",ngayTaoSau:"",ngaySuaTruoc:"",ngaySuaSau:"",trangThai:"",idNhuCau:"",idThuongHieu:"",idRam:"",idMauSac:"",idCPU:"",idVGA:"",idWebcam:"",idOCung:"",idManHinh:"",idHeDieuHanh:"",idBanPhim:""}),[ce,he]=s.useState([]),[de,re]=s.useState([]),[ue,me]=s.useState([]),[ge,pe]=s.useState([]),[xe,fe]=s.useState([]),[Ce,je]=s.useState([]),[Se,be]=s.useState([]),[Te,ke]=s.useState([]),[ye,De]=s.useState([]),[we,Pe]=s.useState([]),[He,ve]=s.useState([]),[Re,dt]=s.useState([{id:1,ten:"Hoạt động"},{id:0,ten:"Đã tắt"}]),[S,b]=s.useState([]),[T,k]=s.useState([]),[y,D]=s.useState([]),[w,P]=s.useState([]),[H,v]=s.useState([]),[R,E]=s.useState([]),[L,F]=s.useState([]),[M,W]=s.useState([]),[z,B]=s.useState([]),[O,U]=s.useState([]),[A,G]=s.useState([]),[I,$]=s.useState([]);s.useEffect(()=>{p(),Me()},[]),s.useEffect(()=>{const e=I.join(",");n(a=>({...a,trangThai:e}))},[I]),s.useEffect(()=>{const e=S.join(",");n(a=>({...a,idNhuCau:e}))},[S]),s.useEffect(()=>{const e=T.join(",");n(a=>({...a,idThuongHieu:e}))},[T]),s.useEffect(()=>{const e=y.join(",");n(a=>({...a,idRam:e}))},[y]),s.useEffect(()=>{const e=H.join(",");n(a=>({...a,idCPU:e}))},[H]),s.useEffect(()=>{const e=R.join(",");n(a=>({...a,idVGA:e}))},[R]),s.useEffect(()=>{const e=A.join(",");n(a=>({...a,idBanPhim:e}))},[A]),s.useEffect(()=>{const e=z.join(",");n(a=>({...a,idManHinh:e}))},[z]),s.useEffect(()=>{const e=L.join(",");n(a=>({...a,idWebcam:e}))},[L]),s.useEffect(()=>{const e=O.join(",");n(a=>({...a,idHeDieuHanh:e}))},[O]),s.useEffect(()=>{const e=w.join(",");n(a=>({...a,idMauSac:e}))},[w]),s.useEffect(()=>{const e=M.join(",");n(a=>({...a,idOCung:e}))},[M]);const Ee=e=>{const a=e.target.value.toString().trim();r==="0"?n(i=>({...i,tenSanPham:a,ma:""})):r==="1"&&n(i=>({...i,ma:a,tenSanPham:""}))},[Le,Fe]=s.useState(0);s.useEffect(()=>{p()},[d]);const p=async()=>{const e=Object.entries(d).filter(([o,h])=>h!=="").map(([o,h])=>`${o}=${h}`).join("&"),a=oe+e,i=await l.get(a);le(i.data.data),Fe(parseInt(i.data.totalElement))},Me=async()=>{const e=await l.get("http://localhost:8080/api/nhu-cau/all-list"),a=await l.get("http://localhost:8080/api/thuong-hieu/all-list"),i=await l.get("http://localhost:8080/api/ram/all-list"),o=await l.get("http://localhost:8080/api/mau-sac/all-list"),h=await l.get("http://localhost:8080/api/cpu/all-list"),f=await l.get("http://localhost:8080/api/vga/all-list"),Be=await l.get("http://localhost:8080/api/webcam/all-list"),Oe=await l.get("http://localhost:8080/api/o-cung/all-list"),Ue=await l.get("http://localhost:8080/api/man-hinh/all-list"),Ae=await l.get("http://localhost:8080/api/he-dieu-hanh/all-list"),Ge=await l.get("http://localhost:8080/api/ban-phim/all-list");he(e.data.data),re(a.data.data),me(i.data.data),pe(o.data.data),fe(h.data.data),je(f.data.data),be(Be.data.data),ke(Oe.data.data),De(Ue.data.data),Pe(Ae.data.data),ve(Ge.data.data)},N=[{id:"ma",label:"Mã",minWidth:70},{id:"ten",label:"Tên",minWidth:350},{id:"thuongHieu",label:"Thương hiệu",minWidth:100,align:"left"},{id:"nhuCau",label:"Nhu cầu",minWidth:100,align:"left"},{id:"soLuong",label:"Số lượng",minWidth:100,align:"left"},{id:"trangThai",label:"Trạng thái",minWidth:30,align:"center",format:e=>e===1?t.jsx(Z,{label:"Hoạt động",size:"small",color:"secondary"}):t.jsx(Z,{label:"Đã tắt",size:"small",sx:{backgroundColor:"#EDE7F6"}})},{id:"hanhDong",label:"Hành động",minWidth:30,align:"center"}],V=e=>a=>{a.target.checked?_(e,1):_(e,0)},_=(e,a)=>{l.get(`http://localhost:8080/api/san-pham/change-status?id=${e}&status=${a}`).then(i=>{p()}).catch(i=>{p()})},We=(e,a)=>{n(i=>({...i,page:a}))},ze=e=>{n(a=>({...a,size:e.target.value}))};return t.jsx(t.Fragment,{children:t.jsxs(_e,{label:"Danh sách sản phẩm",children:[t.jsx("div",{style:{marginBottom:30},children:t.jsxs(q,{children:[t.jsxs("div",{style:{display:"flex",padding:10,paddingTop:20},children:[t.jsx(qe,{sx:{maxHeight:"10px"},color:"secondary",onChange:Ee,id:"outlined-basic",label:"Nhập từ khóa",variant:"outlined"}),t.jsx("div",{style:{marginLeft:10,display:"flex",alignItems:"center"},children:t.jsx(Xe,{children:t.jsxs(Qe,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:r,row:!0,onChange:ae,children:[t.jsx(X,{value:"0",control:t.jsx(Q,{color:"secondary",size:"small"}),label:"Tên"}),t.jsx(X,{value:"1",control:t.jsx(Q,{color:"secondary",size:"small"}),label:"Mã"})]})})}),t.jsx("div",{title:"Xóa bộ lọc",onClick:ie,style:{marginLeft:20,marginTop:10,marginRight:20},children:t.jsx(Je,{color:"secondary",fontSize:"large"})}),t.jsxs("div",{style:{flexGrow:"1",display:"flex",justifyContent:"end"},children:[t.jsx(J,{title:"Tải lên Excel",style:{marginRight:"10px"},onClick:()=>m("/sanpham/themnhieusanpham"),children:t.jsx(ee,{size:"medium",color:"secondary",children:t.jsx(et,{})})}),t.jsx(J,{title:"Xuất Excel",style:{marginRight:"10px"},children:t.jsx(Ke,{data:j})}),t.jsx(ht,{size:"medium",color:"secondary",title:"Thêm sản phẩm",targetUrl:"them"})]})]}),t.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[t.jsx(c,{list:ce,setListChecked:b,nameDropDown:"Nhu cầu"}),t.jsx(c,{list:de,setListChecked:k,nameDropDown:"Thương hiệu"}),t.jsx(c,{list:Re,setListChecked:$,nameDropDown:"Trạng thái"}),t.jsx(c,{list:ue,setListChecked:D,nameDropDown:"RAM"}),t.jsx(c,{list:xe,setListChecked:v,nameDropDown:"CPU"}),t.jsx(c,{list:Ce,setListChecked:E,nameDropDown:"VGA"}),t.jsx(c,{list:ye,setListChecked:B,nameDropDown:"Màn hình"}),t.jsx(c,{list:He,setListChecked:G,nameDropDown:"Bàn phím"}),t.jsx(c,{list:Te,setListChecked:W,nameDropDown:"Ổ cứng"}),t.jsx(c,{list:ge,setListChecked:P,nameDropDown:"Màu sắc"}),t.jsx(c,{list:we,setListChecked:U,nameDropDown:"Hệ điều hành"}),t.jsx(c,{list:Se,setListChecked:F,nameDropDown:"Webcam"})]})]})},se),t.jsxs(q,{sx:{width:"100%",overflow:"hidden"},children:[t.jsx(tt,{sx:{maxHeight:440},children:t.jsxs(at,{stickyHeader:!0,"aria-label":"sticky table",children:[t.jsx(st,{children:t.jsxs(K,{children:[t.jsx(u,{style:{fontWeight:700},children:"STT"}),N.map(e=>t.jsx(u,{align:e.align,style:{minWidth:e.minWidth,fontWeight:700},children:e.label},e.id))]})}),t.jsx(nt,{children:j.map((e,a)=>{const i=d.page*d.size+a+1;return t.jsxs(K,{hover:!0,role:"checkbox",tabIndex:-1,children:[t.jsx(u,{align:"center",children:i}),N.map(o=>{const h=e[o.id];if(o.id==="hanhDong"){const f=e.trangThai;return t.jsxs(u,{align:o.align,children:[t.jsx(Ze,{onClick:()=>x(e.id),children:t.jsx(te,{})}),f===1?t.jsx(Y,{defaultChecked:!0,color:"secondary",onChange:V(e.id)}):t.jsx(Y,{onChange:V(e.id)})]},o.id)}return t.jsx(u,{align:o.align,children:o.format&&typeof h=="number"?o.format(h):h},o.id)})]},e.id)})})]})}),t.jsx(it,{rowsPerPageOptions:[5,10,25,50,100],component:"div",count:Le,rowsPerPage:parseInt(d.size),page:d.page,onPageChange:We,onRowsPerPageChange:ze})]})]})})};export{Dt as default};
