import{ah as Le,aU as Me,r as s,j as e,aa as ce,G as m,T as C,ak as Ke,Z as y,V as Pe,a2 as q,N as je}from"./index-DvRT1fKX.js";import{u as Ue,b as He,d as Xe,a as ze}from"./billService-Tf_Smebm.js";import{b as ye,c as Ve,g as Ye,a as $e}from"./billStatus-xsKgi6wN.js";import{a as se,c as ie,b as $,D as qe}from"./DialogTitle-CbNFobLJ.js";import{T as Qe,a as Ze,b as Je,c as ve,d as ea}from"./TableRow-v48cNmg9.js";import{T as R}from"./TableCell-D2O8ZgxM.js";import{D as Ne}from"./DialogContentText-BL53H5oW.js";import{S as Te,A as De}from"./Snackbar-C3pqssDN.js";import{f as aa,a as be,b as Se,c as ta,g as na}from"./index-BiQcOOa5.js";import{B as U}from"./Box-f6O_cHq4.js";import"./request-CUTnW2PP.js";import"./Close-Bd2a-8hi.js";var I=Le("article-filled-filled","IconArticleFilledFilled",[["path",{d:"M19 3a3 3 0 0 1 2.995 2.824l.005 .176v12a3 3 0 0 1 -2.824 2.995l-.176 .005h-14a3 3 0 0 1 -2.995 -2.824l-.005 -.176v-12a3 3 0 0 1 2.824 -2.995l.176 -.005h14zm-2 12h-10l-.117 .007a1 1 0 0 0 0 1.986l.117 .007h10l.117 -.007a1 1 0 0 0 0 -1.986l-.117 -.007zm0 -4h-10l-.117 .007a1 1 0 0 0 0 1.986l.117 .007h10l.117 -.007a1 1 0 0 0 0 -1.986l-.117 -.007zm0 -4h-10l-.117 .007a1 1 0 0 0 0 1.986l.117 .007h10l.117 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),Ae={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(r){(function(){var t={}.hasOwnProperty;function i(){for(var o="",u=0;u<arguments.length;u++){var g=arguments[u];g&&(o=d(o,h(g)))}return o}function h(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return i.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var g in o)t.call(o,g)&&o[g]&&(u=d(u,g));return u}function d(o,u){return u?o?o+" "+u:o+u:o}r.exports?(i.default=i,r.exports=i):window.classNames=i})()})(Ae);var sa=Ae.exports;const S=Me(sa),ia=["xxl","xl","lg","md","sm","xs"],ra="xs",oa=s.createContext({prefixes:{},breakpoints:ia,minBreakpoint:ra});function D(r,t){const{prefixes:i}=s.useContext(oa);return r||i[t]||t}const We=r=>s.forwardRef((t,i)=>e.jsx("div",{...t,ref:i,className:S(t.className,r)})),de=s.forwardRef(({className:r,bsPrefix:t,as:i="div",...h},d)=>(t=D(t,"card-body"),e.jsx(i,{ref:d,className:S(r,t),...h})));de.displayName="CardBody";const ke=s.forwardRef(({className:r,bsPrefix:t,as:i="div",...h},d)=>(t=D(t,"card-footer"),e.jsx(i,{ref:d,className:S(r,t),...h})));ke.displayName="CardFooter";const Oe=s.createContext(null);Oe.displayName="CardHeaderContext";const we=s.forwardRef(({bsPrefix:r,className:t,as:i="div",...h},d)=>{const o=D(r,"card-header"),u=s.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return e.jsx(Oe.Provider,{value:u,children:e.jsx(i,{ref:d,...h,className:S(t,o)})})});we.displayName="CardHeader";const Ie=s.forwardRef(({bsPrefix:r,className:t,variant:i,as:h="img",...d},o)=>{const u=D(r,"card-img");return e.jsx(h,{ref:o,className:S(i?`${u}-${i}`:u,t),...d})});Ie.displayName="CardImg";const _e=s.forwardRef(({className:r,bsPrefix:t,as:i="div",...h},d)=>(t=D(t,"card-img-overlay"),e.jsx(i,{ref:d,className:S(r,t),...h})));_e.displayName="CardImgOverlay";const Be=s.forwardRef(({className:r,bsPrefix:t,as:i="a",...h},d)=>(t=D(t,"card-link"),e.jsx(i,{ref:d,className:S(r,t),...h})));Be.displayName="CardLink";const la=We("h6"),Fe=s.forwardRef(({className:r,bsPrefix:t,as:i=la,...h},d)=>(t=D(t,"card-subtitle"),e.jsx(i,{ref:d,className:S(r,t),...h})));Fe.displayName="CardSubtitle";const Ge=s.forwardRef(({className:r,bsPrefix:t,as:i="p",...h},d)=>(t=D(t,"card-text"),e.jsx(i,{ref:d,className:S(r,t),...h})));Ge.displayName="CardText";const ca=We("h5"),Ee=s.forwardRef(({className:r,bsPrefix:t,as:i=ca,...h},d)=>(t=D(t,"card-title"),e.jsx(i,{ref:d,className:S(r,t),...h})));Ee.displayName="CardTitle";const Re=s.forwardRef(({bsPrefix:r,className:t,bg:i,text:h,border:d,body:o=!1,children:u,as:g="div",...p},A)=>{const v=D(r,"card");return e.jsx(g,{ref:A,...p,className:S(t,v,i&&`bg-${i}`,h&&`text-${h}`,d&&`border-${d}`),children:o?e.jsx(de,{children:u}):u})});Re.displayName="Card";const da=Object.assign(Re,{Img:Ie,Title:Ee,Subtitle:Fe,Body:de,Link:Be,Text:Ge,Header:we,Footer:ke,ImgOverlay:_e});function ha(r){const{id:t}=ce(),{data:i,onLoading:h,bill:d}=r,o=window.innerHeight*.5,u=n=>n===0?e.jsx(I,{style:{color:"#3f51b5",width:"100%",transform:"scale(2)"}}):n===1?e.jsx(I,{style:{color:"#f44336",width:"100%",transform:"scale(2)"}}):n==="VAN_CHUYEN"?e.jsx(I,{style:{color:"#ff9800",width:"100%",transform:"scale(2)"}}):n==="CHO_VAN_CHUYEN"?e.jsx(I,{style:{color:"#2196f3",width:"100%",transform:"scale(2)"}}):n==="DA_THANH_TOAN"?e.jsx(I,{style:{color:"#4caf50",width:"100%",transform:"scale(2)"}}):n==="THANH_CONG"?e.jsx(I,{style:{color:"#8bc34a",width:"100%",transform:"scale(2)"}}):n===8?e.jsx(I,{style:{color:"#f44336",width:"100%",transform:"scale(2)"}}):e.jsx(I,{style:{color:"#9e9e9e",width:"100%",transform:"scale(2)"}}),g=n=>{let a="Trạng thái chưa được định nghĩa",l="default";switch(n){case"DON_MOI":a="ĐƠN MỚI",l="primary";break;case"HUY":a="HỦY",l="error";break;case"CHO_GIAO":a="CHỜ GIAO",l="warning";break;case"DANG_GIAO":a="ĐANG GIAO",l="info";break;case"TRA_HANG_HOAN_TIEN":a="TRẢ HÀNG HOÀN TIỀN",l="success";break;case"HOAN_THANH":a="HOÀN THÀNH",l="success";break;case"XAC_NHAN":a="XÁC NHẬN",l="primary";break}return e.jsx(q,{label:a,color:l})},p=[{id:"stt",label:"STT"},{id:"ngayTao",label:"Thời gian",minWidth:100,maxWidth:250},{id:"nguoiSua",label:"Người chỉnh sửa",minWidth:100,maxWidth:150},{id:"trangThai",label:"Trạng Thái",minWidth:120,maxWidth:150},{id:"ghiChuChoCuaHang",label:"Ghi chú của hàng",minWidth:150,maxWidth:200},{id:"ghiChuChoKhachHang",label:"Ghi chú khách hàng",minWidth:150,maxWidth:200}],[A,v]=s.useState(""),[X,_]=s.useState("success"),[L,H]=s.useState(!1),[N,W]=s.useState({}),[Q,B]=s.useState({ghiChuCuaHang:"",ghiChuKhachHang:""}),[he,M]=s.useState(!1),[ue,F]=s.useState(!1),[c,b]=s.useState(""),[k,K]=s.useState(!1),P=()=>{H(!1)},Z=async n=>{try{(await Ue(t,c,n)).status_code==201&&(v("Cập nhập trạng thái hóa đơn "+t+" thành công"),_("success"),H(!0),W({}),b(""),F(!1),B({ghiChuCuaHang:"",ghiChuKhachHang:""}),h())}catch(a){if(a.response&&a.response.data){const x=a.response.data.message.reduce((f,j)=>f.error_code<j.error_code?f:j);W({[x.field]:x.messages})}v(a.data.message.data.message),_("error"),H(!0)}},J=n=>{const{name:a,value:l}=n.target;B(x=>({...x,[a]:l}))},z=n=>{Z(Q)},re=()=>{M(!0)},V=()=>{M(!1)},oe=()=>{F(!0)},G=n=>{b(n),oe()},ee=()=>{F(!1),W({}),b(""),B({ghiChuCuaHang:"",ghiChuKhachHang:""})},ae=()=>{K(!1),ee()},le=()=>{K(!0)},T=n=>{const a=[];return(n.trangThai==="CHO_THANH_TOAN"||n.trangThai==="CHO_XAC_NHAN"||n.trangThai==="CHO_GIAO"||n.trangThai==="DANG_GIAO"||n.trangThai==="XAC_NHAN"||n.trangThai==="DON_MOI")&&a.push(e.jsx(m,{item:!0,xs:3,children:e.jsx(y,{variant:"contained",color:"error",onClick:()=>G("HUY"),fullWidth:!0,children:"HỦY"})},"huy-button")),n.trangThai==="DON_MOI"&&n.loaiHoaDon===1?a.push(e.jsx(m,{item:!0,xs:3,children:e.jsx(y,{variant:"contained",onClick:()=>G("XAC_NHAN"),fullWidth:!0,children:"Xác nhận"})},"xac-nhan-button")):n.trangThai==="DON_MOI"&&n.loaiHoaDon===0&&a.push(e.jsx(m,{item:!0,xs:3,children:e.jsx(y,{variant:"contained",onClick:()=>G("HOAN_THANH"),fullWidth:!0,children:"HOÀN THÀNH"})},"hoan-thanh-button")),n.trangThai==="CHO_GIAO"&&n.loaiHoaDon===1&&a.push(e.jsx(m,{item:!0,xs:3,children:e.jsx(y,{variant:"contained",onClick:()=>G("DANG_GIAO"),fullWidth:!0,children:"ĐANG GIAO"})},"dang-giao-button")),n.trangThai==="HOAN_THANH"&&a.push(e.jsx(m,{item:!0,xs:3,children:e.jsx(y,{variant:"contained",onClick:()=>G("TRA_HANG_HOAN_TIEN"),fullWidth:!0,children:"TRẢ HÀNG HOÀN TIỀN"})},"tra-hang-hoan-tien-button")),e.jsx(m,{container:!0,spacing:2,children:a})};return console.log(d),e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsxs(m,{container:!0,spacing:2,padding:2,sx:{backgroundColor:"white",borderRadius:4},children:[e.jsx(m,{item:!0,xs:12,children:e.jsx(C,{variant:"h2",children:"Lịch sử đơn hàng"})}),e.jsx("div",{style:{display:"flex",overflowX:"auto",paddingBottom:"10px",justifyContent:"center"},children:i.map(n=>e.jsx(m,{item:!0,xs:12,sm:6,md:3,sx:{display:"flex",flexDirection:"column",alignItems:"center",marginLeft:2,minWidth:"300px"},children:e.jsx(da,{sx:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",textAlign:"center",height:"auto",maxWidth:"250px"},children:e.jsxs(Ke,{sx:{padding:3,textAlign:"center"},children:[u(n.trangThai)," ",e.jsx(C,{variant:"h4",sx:{mt:2,textAlign:"center"},children:ye(n.trangThai)}),e.jsx(C,{variant:"h5",sx:{mt:1,fontSize:"0.875rem",textAlign:"center"},children:n.ngayTao})]})})},n.id))}),e.jsx(m,{item:!0,xs:12,sx:{marginTop:0},children:e.jsxs(m,{container:!0,spacing:2,sx:{justifyContent:"space-between"},children:[e.jsx(m,{item:!0,xs:10,sx:{display:"flex",justifyContent:"flex-start"},children:T(d)}),e.jsx(m,{item:!0,xs:2,children:e.jsx(y,{variant:"contained",color:"warning",fullWidth:!0,onClick:re,children:"Chi tiết"})})]})})]})}),e.jsxs(se,{open:he,onClose:V,maxWidth:"lg",fullWidth:!0,children:[e.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(C,{variant:"h5",children:["Chi tiết lịch sử thay đổi hóa đơn : ",e.jsx("strong",{children:t})]}),e.jsx(y,{onClick:V,children:"Đóng"})]}),e.jsx($,{children:e.jsx(Qe,{component:Pe,style:{maxHeight:o,overflowY:"auto"},children:e.jsxs(Ze,{children:[e.jsx(Je,{children:e.jsx(ve,{children:p.map(n=>e.jsx(R,{style:{minWidth:n.minWidth,maxWidth:n.maxWidth},children:n.label},n.id))})}),e.jsx(ea,{children:i.map((n,a)=>e.jsxs(ve,{children:[e.jsx(R,{children:a+1}),e.jsx(R,{style:{minWidth:p[0].minWidth,maxWidth:p[0].maxWidth},children:n.ngayTao}),e.jsx(R,{style:{minWidth:p[1].minWidth,maxWidth:p[1].maxWidth},children:n.nguoiSua}),e.jsx(R,{style:{minWidth:p[2].minWidth,maxWidth:p[2].maxWidth},children:e.jsx(q,{label:ye(n.trangThai),sx:{backgroundColor:Ve(n.trangThai),color:"#fff"}})}),e.jsx(R,{style:{minWidth:p[3].minWidth,maxWidth:p[3].maxWidth,wordWrap:"break-word",whiteSpace:"normal"},children:n.ghiChuChoCuaHang}),e.jsx(R,{style:{minWidth:p[4].minWidth,maxWidth:p[4].maxWidth,wordWrap:"break-word",whiteSpace:"normal"},children:n.ghiChuChoKhachHang})]},a))})]})})})]}),e.jsxs(se,{open:ue,onClose:ee,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(ie,{id:"alert-dialog-title",children:"Xác nhận hành động"}),e.jsx($,{children:e.jsxs(Ne,{id:"alert-dialog-description",children:["Chuyên đối trạng thái hóa đơn từ ",g(d.trangThai)," thành ",g(c)]})}),e.jsx($,{children:e.jsxs("div",{children:[e.jsx(je,{label:"Ghi chú của cửa hàng",variant:"outlined",fullWidth:!0,multiline:!0,rows:4,name:"ghiChuCuaHang",value:Q.ghiChuCuaHang,onChange:J,sx:{mb:2},required:!0,error:!!N.ghiChuCuaHang,helperText:N.ghiChuCuaHang||""}),e.jsx(je,{label:"Ghi chú của khách hàng",variant:"outlined",fullWidth:!0,multiline:!0,rows:4,name:"ghiChuKhachHang",value:Q.ghiChuKhachHang,onChange:J,sx:{mb:2}}),e.jsx(y,{variant:"contained",color:"primary",sx:{mb:2},onClick:()=>{le()},children:"Lưu"})]})})]}),e.jsxs(se,{open:k,onClose:ae,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(ie,{id:"alert-dialog-title"}),e.jsx($,{children:e.jsxs(Ne,{id:"alert-dialog-description",children:["Bạn muốn : ","     "," ",g(c)," hóa đơn ",e.jsxs("strong",{children:[" ",t]})]})}),e.jsxs(qe,{children:[e.jsx(y,{onClick:ae,color:"secondary",children:"Hủy"}),e.jsx(y,{onClick:()=>{z(),K(!1)},color:"primary",autoFocus:!0,children:"Xác nhận"})]})]}),e.jsx(Te,{open:L,autoHideDuration:2e3,onClose:P,anchorOrigin:{vertical:"top",horizontal:"center"},children:e.jsx(De,{onClose:P,variant:"filled",severity:X,sx:{width:"100%"},children:A})})]})}function ua(r){const{onLoading:t}=r,{id:i}=ce(),[h,d]=s.useState({}),[o,u]=s.useState([]),[g,p]=s.useState([]),[A,v]=s.useState([]),[X,_]=s.useState(""),[L,H]=s.useState(""),[N,W]=s.useState(""),[Q,B]=s.useState(""),[he,M]=s.useState("success"),[ue,F]=s.useState(!1);s.useState({});const[c,b]=s.useState({ten:"",sdt:"",email:"",diaChi:"",tinh:"",tenTinh:"",huyen:"",tenHuyen:"",phuong:"",tenPhuong:"",ghiChu:"",tienShip:""}),[k,K]=s.useState({ten:"",sdt:"",email:""}),[P,Z]=s.useState(!1),J=()=>Z(!0),z=()=>Z(!1);s.useEffect(()=>{P&&(re(),V())},[P]),s.useEffect(()=>{V()},[c.tinh]);const re=async()=>{try{const a=await He(i);a.status_code===200&&(d(a.data),b(l=>({...l,ten:a.data.tenKhachHang,tinh:a.data.tinh,huyen:a.data.huyen,phuong:a.data.phuong,tienShip:a.data.tienShip,ten:a.data.ten,sdt:a.data.sdt,email:a.data.email,diaChi:a.data.diaChi,ghiChu:a.data.ghiChu,tienShip:a.data.tienShip})))}catch{B("Lỗi"),M("error"),F(!0)}},V=async()=>{const a=await aa();if(u(a.data),c!=null&&c.huyen){const l=await be(c.tinh);p(l.data),H(""),W(""),v([])}if(c!=null&&c.huyen){const l=await Se(c.huyen);v(l.data),W("")}},oe=async a=>{T(a);const l=a.target.value;_(l);const x=o.find(j=>j.ProvinceID===parseInt(l));b(j=>({...j,tinh:l,tenTinh:x?x.ProvinceName:"",phuong:"",huyen:""}));const f=await be(l);p(f.data),H(""),W(""),v([])},G=async a=>{T(a);const l=a.target.value;H(l);const x=g.find(j=>j.DistrictID===parseInt(l));b(j=>({...j,huyen:l,tenHuyen:x?x.DistrictName:""}));const f=await Se(l);v(f.data),W("")},ee=a=>{T(a);const l=a.target.value;W(a.target.value);const x=A.find(f=>f.WardCode===l);b(f=>({...f,phuong:l,tenPhuong:x?x.WardName:""})),ae(L,a.target.value)},ae=async(a,l)=>{const x=await ta(a,l),f=await na(a,l);new Date(x.data.leadtime*1e3).toISOString().slice(0,19).replace("T"," "),b(te=>({...te,tienShip:f.data.total}))};console.log("TP : ",o),console.log("Quận : ",g),console.log("Huyện : ",A),console.log("Form Data : ",c);const le=async a=>{var x,f,j,te,me,xe,ge,pe;a.preventDefault();const l={...c,ten:(x=c.ten)==null?void 0:x.trim(),sdt:(f=c.sdt)==null?void 0:f.trim(),email:(j=c.email)==null?void 0:j.trim(),diaChi:(te=c.diaChi)==null?void 0:te.trim(),tinh:(me=c.tinh)==null?void 0:me.trim(),huyen:(xe=c.huyen)==null?void 0:xe.trim(),phuong:(ge=c.phuong)==null?void 0:ge.trim(),ghiChu:(pe=c.ghiChu)==null?void 0:pe.trim(),tienShip:c.tienShip};try{const O=await Xe(i,l);console.log(O),O.status_code==201&&(B("Cập nhập địa chỉ thành công"),M("success"),F(!0),b({ten:"",sdt:"",email:"",diaChi:"",tinh:"",tenTinh:"",huyen:"",tenHuyen:"",phuong:"",tenPhuong:"",ghiChu:"",tienShip:""}),K({ten:"",sdt:"",email:""}),t(),z())}catch(O){if(console.log("Looxi : ",O),O.response&&O.response.data){const fe=O.response.data.message,E={ten:"",sdt:"",email:""},Ce=fe.filter(w=>[6002,6004,6006].includes(w.error_code));Ce.length>0?Ce.forEach(w=>{const Y=w.field,ne=w.messages;switch(Y){case"email":E.email=ne;break;case"sdt":E.sdt=ne;break;case"ten":E.ten=ne;break}}):fe.forEach(w=>{w.field;const Y=w.messages;switch(w.error_code){case 6003:E.email=Y;break;case 6005:E.sdt=Y;break;case 6007:E.ten=Y;break}}),K(E)}else console.error("Có lỗi xảy ra:",O),B("Có lỗi xảy ra khi cập nhật!"),M("error"),F(!0)}},T=a=>{const{id:l,value:x}=a.target;b(f=>({...f,[l]:x}))},n=a=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(a);return e.jsxs(e.Fragment,{children:[e.jsx(y,{variant:"contained",color:"primary",onClick:J,children:"Cập nhật địa chỉ"}),e.jsxs(se,{open:P,onClose:z,maxWidth:"md",fullWidth:!0,children:[e.jsx(ie,{children:"Chọn Địa Chỉ"}),e.jsx($,{children:e.jsxs("form",{onSubmit:le,className:"address-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("input",{type:"text",id:"ten",placeholder:"Nhập tên của bạn",value:c.ten,onChange:T}),k.ten&&e.jsx("span",{className:"error-message",children:k.ten})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("input",{type:"tel",id:"sdt",placeholder:"Nhập số điện thoại",value:c.sdt,onChange:T}),k.sdt&&e.jsx("span",{className:"error-message",children:k.sdt})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("input",{id:"email",placeholder:"Nhập email",value:c.email,onChange:T}),k.email&&e.jsx("span",{className:"error-message",children:k.email})]})]}),e.jsx("div",{className:"form-group",children:e.jsx("textarea",{id:"diaChi",placeholder:"Nhập địa chỉ giao hàng",value:c.diaChi,onChange:T})}),e.jsx("div",{className:"form-group",children:e.jsxs("select",{id:"tinh",value:c.tinh,onChange:oe,children:[e.jsx("option",{value:"",disabled:!0,children:"Chọn Tỉnh/Thành Phố"}),o.map(a=>e.jsx("option",{value:a.ProvinceID,children:a.ProvinceName},a.ProvinceID))]})}),e.jsx("div",{className:"form-group",children:e.jsxs("select",{id:"huyen",value:c.huyen,onChange:G,children:[e.jsx("option",{value:"",children:"Chọn Quận/Huyện"}),g.map(a=>e.jsx("option",{value:a.DistrictID,children:a.DistrictName},a.DistrictID))]})}),e.jsx("div",{className:"form-group",children:e.jsxs("select",{id:"phuong",value:c.phuong,onChange:a=>{ee(a)},children:[e.jsx("option",{value:"",children:"Chọn Phường/Xã"}),A.map(a=>e.jsx("option",{value:a.WardCode,children:a.WardName},a.WardCode))]})}),e.jsx("div",{className:"form-group",children:e.jsx("textarea",{id:"ghiChu",placeholder:"Ghi chú",value:c.ghiChu,onChange:T})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("strong",{style:{fontSize:"24px"},children:n(c.tienShip)})," ",e.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px",justifyContent:"flex-end",width:"100%"},children:[e.jsx(y,{onClick:z,color:"secondary",children:"Hủy"}),e.jsx(y,{variant:"contained",color:"primary",type:"submit",children:"Gửi thông tin"})]})]})]})})]})]})}function ma(r){const{bill:t,onLoading:i}=r;return e.jsx(e.Fragment,{children:e.jsxs(m,{container:!0,spacing:2,padding:3,sx:{backgroundColor:"white",borderRadius:4,mt:2,boxShadow:3},children:[e.jsx(m,{item:!0,xs:10,children:e.jsx(C,{variant:"h5",sx:{fontWeight:"bold"},children:"Thông tin đơn hàng"})}),e.jsx(m,{item:!0,xs:2,container:!0,justifyContent:"flex-end",children:e.jsx(ua,{onLoading:()=>{i()}})}),e.jsx(m,{item:!0,xs:4,children:e.jsxs(U,{display:"flex",alignItems:"center",children:[e.jsx(C,{variant:"body1",sx:{fontWeight:"bold"},children:"Mã:"}),e.jsx(C,{variant:"body1",sx:{ml:1,color:"#007bff",fontWeight:"bold"},children:t.ma})]})}),e.jsx(m,{item:!0,xs:4,children:e.jsxs(U,{display:"flex",alignItems:"center",children:[e.jsx(C,{variant:"body1",sx:{fontWeight:"bold"},children:"Tên khách hàng:"}),t.tenKhachHang===null?e.jsx(q,{label:"Khách lẻ",color:"info",sx:{ml:1}}):e.jsx(C,{variant:"body1",sx:{ml:1},children:t.tenKhachHang})]})}),e.jsx(m,{item:!0,xs:4,children:e.jsxs(U,{display:"flex",alignItems:"center",children:[e.jsx(C,{variant:"body1",sx:{fontWeight:"bold"},children:"Trạng thái:"}),e.jsx(q,{label:Ye(t.trangThai),sx:{ml:1,backgroundColor:$e(t.trangThai),color:"#fff"}})]})}),e.jsx(m,{item:!0,xs:4,children:e.jsxs(U,{display:"flex",alignItems:"center",children:[e.jsx(C,{variant:"body1",sx:{fontWeight:"bold"},children:"SĐT người nhận:"}),e.jsx(C,{variant:"body1",sx:{ml:1},children:t.sdt})]})}),e.jsx(m,{item:!0,xs:4,children:e.jsxs(U,{display:"flex",alignItems:"center",children:[e.jsx(C,{variant:"body1",sx:{fontWeight:"bold"},children:"Loại hóa đơn:"}),e.jsx(q,{label:t.loaiHoaDon==="0"?"Tại quầy":"Online",color:t.loaiHoaDon==="0"?"primary":"success",sx:{ml:1}})]})}),e.jsx(m,{item:!0,xs:4,children:e.jsxs(U,{display:"flex",alignItems:"center",children:[e.jsx(C,{variant:"body1",sx:{fontWeight:"bold"},children:"Địa chỉ"}),e.jsx(C,{variant:"body1",sx:{ml:1},children:t.diaChi})]})})]})})}function Ta(){const{id:r}=ce(),[t,i]=s.useState({}),[h,d]=s.useState([]),[o,u]=s.useState(""),[g,p]=s.useState("success"),[A,v]=s.useState(!1),X=()=>{v(!1)};s.useEffect(()=>{_(),L()},[r]);const _=async()=>{try{const N=await He(r);N.status_code===200&&i(N.data)}catch(N){u(N.response.data.message),p("error"),v(!0)}},L=async()=>{const N=await ze(r);N.status_code===200&&d(N.data)},H=()=>{_(),L()};return console.log("ID : ",r),console.log("Hoa đơn : ",t),console.log("Lịch sử : ",h),e.jsxs(e.Fragment,{children:[e.jsx(ha,{data:h,onLoading:H,bill:t}),e.jsx(ma,{bill:t,onLoading:H}),e.jsx(Te,{open:A,autoHideDuration:2e3,onClose:X,anchorOrigin:{vertical:"top",horizontal:"center"},children:e.jsx(De,{onClose:X,variant:"filled",severity:g,sx:{width:"100%"},children:o})})]})}export{Ta as default};
